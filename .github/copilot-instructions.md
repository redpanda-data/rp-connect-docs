# Redpanda Connect Reference Documentation: LLM Prompt Guide

## Overview

Redpanda Connect reference documentation is generated using a combination of:
- **Autogenerated content**: Produced from source code and schemas, providing a baseline of all available fields, types, and options.
- **Overrides**: A JSON file (`overrides.json`) that allows technical writers to override, deduplicate, clarify, and cross-reference field descriptions using a DRY (Don't Repeat Yourself) approach.

## Repository Folder Structure

- `/docs`: Built documentation site (HTML, assets, and static files for all Redpanda Connect docs versions)
- `/docs-data`: Source data for reference docs, including `overrides.json` and autogenerated JSON files
- `/modules`: Modular AsciiDoc content for guides, cookbooks, and reference topics
- `/package.json`, `README.adoc`, `antora.yml`: Project configuration and metadata
- `/.github`: GitHub workflows and Copilot custom instructions

## `$ref` Syntax

- The `$ref` syntax is used in the overrides file to avoid repeating identical or similar descriptions for fields that appear in multiple places.
- Instead of duplicating a description, a field can reference a central definition using:

  ```json
  "$ref": "#/definitions/field_name"
  ```

- The referenced definition is found in the `definitions` section at the top of `overrides.json`.
- This approach ensures consistency, simplifies updates, and enables cross-referencing between related fields.

## How Reference Docs Are Structured

- **Autogenerated files** (such as `.adoc` or `.json`): List all fields, types, options, and sometimes examples, but may lack clarity, deduplication, or cross-references.
- **Overrides file** (`overrides.json`):
  - Contains a `definitions` section for reusable field descriptions.
  - Uses `$ref` to point fields in the autogenerated structure to these definitions.
  - Allows for cross-references between related fields (such as "see also", "must be used with", etc.).
  - Supports enhancements for clarity, user-friendliness, and technical accuracy.

## Example

```json
"definitions": {
  "client_certs": {
    "description": "A list of client certificates for mutual TLS (mTLS) authentication. ... (full description here)"
  }
},
"inputs": [
  {
    "name": "amqp_0_9",
    "config": {
      "children": [
        {
          "name": "tls",
          "$ref": "#/definitions/tls",
          "children": [
            {
              "name": "client_certs",
              "$ref": "#/definitions/client_certs"
            }
          ]
        }
      ]
    }
  }
]
```

## LLM Instructions

When given access to `overrides.json` and autogenerated content, you should:

1. **Understand and respect the `$ref` system**: Do not duplicate descriptions; suggest improvements to central definitions and update references as needed.
2. **Suggest improvements** for clarity, consistency, and user experience, especially in the `definitions` section.
3. **Identify opportunities for new or improved cross-references** between related fields. This includes creating new objects for missing references or enhancing existing ones.
4. **Recommend deduplication**: If you find repeated inline descriptions, propose moving them to a definition and referencing them with `$ref`.
5. **Preserve technical accuracy**: Ensure that all field descriptions are correct, actionable, and user-friendly.
6. **Maintain DRY principles**: Avoid unnecessary repetition in the documentation.

## Output Expectations

When asked for improvements, output should include:

- Suggested changes to the `definitions` section.
- Proposed new or updated `$ref` references.
- Rationale for changes (clarity, deduplication, cross-linking, etc.).
- Any additional user experience or technical writing enhancements.

---
