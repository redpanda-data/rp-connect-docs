// =============================================================================
// PARTIAL: mcp-metadata-design.adoc
// =============================================================================
//
// INCLUDED BY:
//   - rp-connect-docs: modules/ai-agents/pages/mcp-server/best-practices.adoc
//   - cloud-docs: modules/ai-agents/pages/mcp/remote/best-practices.adoc
//
// INCLUDE SYNTAX:
//   Connect: include::ai-agents:partial$mcp/best-practices/mcp-metadata-design.adoc[]
//   Cloud:   include::redpanda-connect:ai-agents:partial$mcp/best-practices/mcp-metadata-design.adoc[]
//
// ATTRIBUTES USED:
//   None
//
// DEPENDENCIES:
//   None
// =============================================================================

The `meta.mcp` block determines how AI clients discover and use your tool. Good metadata helps AI clients select the right tool and provide correct inputs.

[source,yaml]
----
include::example$best-practices/mcp-metadata/basic-mcp-block.yaml[tags=basic-mcp-block]
----

=== Choose a clear tool name

The tool name comes from the top-level `label` field. AI clients see this name when selecting tools, so make it descriptive and consistent.

The name should reflect the tool's primary action and target resource. Focus on clarity over brevity.

.Tool naming examples
[cols="1,2"]
|===
|Good |Bad

|`get-weather-forecast`
|`processor1`

|`publish-order-event`
|`get-data`

|`search-customer-orders`
|`myTool`
|===

=== Write effective descriptions

Tool descriptions help AI clients decide when to use your tool. Start with an action verb and explain what the tool returns.

[source,yaml]
----
include::example$best-practices/mcp-metadata/descriptions.yaml[tags=good-description,indent=0]
----

Include any limitations or requirements in the description:

[source,yaml]
----
include::example$best-practices/mcp-metadata/descriptions.yaml[tags=with-limitations,indent=0]
----

=== Define input properties clearly

Each property needs a name, type, description, and required status. Use `string`, `number`, or `boolean` types.

Include example values in descriptions:

[source,yaml]
----
include::example$best-practices/mcp-metadata/property-definitions.yaml[tags=property-descriptions,indent=0]
----

Mark properties as required only if the tool cannot function without them:

[source,yaml]
----
include::example$best-practices/mcp-metadata/property-definitions.yaml[tags=required-property,indent=0]
----

Optional properties should have sensible defaults:

[source,yaml]
----
include::example$best-practices/mcp-metadata/property-definitions.yaml[tags=optional-property,indent=0]
----

=== Use tags for organization

Tags help you categorize and filter tools. Use consistent tag names across your tools:

[source,yaml]
----
include::example$best-practices/mcp-metadata/tags-example.yaml[tags=tags-example]
----

Common tag categories include:

* Domain: `weather`, `orders`, `users`, `inventory`
* Integration type: `api`, `database`, `cache`, `messaging`
* Data source: `external`, `internal`, `redpanda`
* Environment: `production`, `staging`, `development`
* Team: `platform`, `data-engineering`, `analytics`

=== Complete example

This example combines all the best practices:

[source,yaml]
----
include::example$best-practices/mcp-metadata/search-customer-orders.yaml[tags=complete-example]
----
