// =============================================================================
// PARTIAL: mcp-metadata-design.adoc
// =============================================================================
//
// INCLUDED BY:
//   - rp-connect-docs: modules/ai-agents/pages/mcp-server/best-practices.adoc
//   - cloud-docs: modules/ai-agents/pages/mcp/remote/best-practices.adoc
//
// INCLUDE SYNTAX:
//   Connect: include::ai-agents:partial$mcp/best-practices/mcp-metadata-design.adoc[]
//   Cloud:   include::redpanda-connect:ai-agents:partial$mcp/best-practices/mcp-metadata-design.adoc[]
//
// ATTRIBUTES USED:
//   None
//
// DEPENDENCIES:
//   None
// =============================================================================

The `meta.mcp` block determines how AI clients discover and use your tool. Good metadata helps AI clients select the right tool and provide correct inputs.

[source,yaml]
----
include::example$best-practices/mcp-metadata/basic-mcp-block.yaml[tags=basic-mcp-block]
----

=== Choose a clear tool name

The tool name comes from the top-level `label` field. AI clients see this name when selecting tools, so make it descriptive and consistent.

.Good tool names
* `get-weather-forecast` - Clear action and subject
* `publish-order-event` - Specific action with target
* `search-customer-orders` - Indicates filtering capability

.Bad tool names
* `processor1` - Generic and meaningless
* `get-data` - Too vague (what data?)
* `myTool` - No indication of purpose

=== Write effective descriptions

Tool descriptions help AI clients decide when to use your tool. Answer two questions: *What does this tool do?* and *What does it return?*

==== Start with an action verb

Begin descriptions with a verb that matches what the tool does:

* `Get` or `Fetch` for retrieving data without modification
* `Search` or `Find` for looking up data with filters or queries
* `Create` or `Add` for making new records or resources
* `Update` or `Modify` for changing existing data
* `Delete` or `Remove` for removing resources
* `Validate` or `Check` for verifying data without side effects
* `Publish` or `Send` for writing to topics or external systems
* `Calculate` or `Compute` for performing calculations on input

==== Include what the tool returns

.Good: Describes what is returned
[source,yaml]
----
include::example$best-practices/mcp-metadata/descriptions.yaml[tags=good-description,indent=0]
----

.Bad: No information about return value
[source,yaml]
----
description: "Weather tool"
----

==== Mention limitations and requirements

If your tool has constraints, include them in the description:

[source,yaml]
----
include::example$best-practices/mcp-metadata/descriptions.yaml[tags=with-limitations,indent=0]
----

=== Define input properties

Properties define the input parameters for your tool. Each property needs a name, type, description, and required status.

Use `string`, `number`, or `boolean` types for property values.

==== Write helpful property descriptions

Include example values in property descriptions to help AI clients provide correct input:

[source,yaml]
----
include::example$best-practices/mcp-metadata/property-definitions.yaml[tags=property-descriptions,indent=0]
----

==== Mark required properties

Mark a property as `required: true` only if the tool cannot function without it.

.Required: Tool needs this value to function
[source,yaml]
----
include::example$best-practices/mcp-metadata/property-definitions.yaml[tags=required-property,indent=0]
----

.Optional: Has a sensible default
[source,yaml]
----
include::example$best-practices/mcp-metadata/property-definitions.yaml[tags=optional-property,indent=0]
----

=== Use tags for organization

Tags help you categorize and filter tools. Use consistent tag names across your tools:

[source,yaml]
----
include::example$best-practices/mcp-metadata/tags-example.yaml[tags=tags-example]
----

Common tag categories include:

* Domain: `weather`, `orders`, `users`, `inventory`
* Integration type: `api`, `database`, `cache`, `messaging`
* Data source: `external`, `internal`, `redpanda`
* Environment: `production`, `staging`, `development`
* Team: `platform`, `data-engineering`, `analytics`

=== Complete example

This example combines all the best practices:

[source,yaml]
----
include::example$best-practices/mcp-metadata/search-customer-orders.yaml[tags=complete-example]
----
