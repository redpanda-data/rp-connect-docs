// Single-sourced partial for MCP tool contract design guidance
// Used in both Connect and Cloud developer guides
//
// Include from Connect: include::ai-agents:partial$mcp/tool-contract-guidance.adoc[]
// Include from Cloud: include::redpanda-connect:ai-agents:partial$mcp/tool-contract-guidance.adoc[]

Each MCP tool must declare its interface using `meta.mcp` metadata. This metadata allows AI clients to discover and invoke the tool correctly.

Define a clear, stable interface for each tool. Keep the description task-oriented and keep properties to a minimum.

[source,yaml]
----
meta:
  mcp:
    enabled: true # <1>
    description: "Publishes a message to a specified Redpanda topic" # <2>
    tags: # <3>
      - messaging
      - redpanda
    properties: # <4>
      - name: message
        type: string
        description: "The message content to publish"
        required: true
      - name: topic_name
        type: string
        description: "The Redpanda topic to publish to"
        required: true
----

<1> Set `meta.mcp.enabled: true` to expose the tool using MCP.
<2> A concise description that explains what the tool does. This should be understandable by an AI model.
<3> Optional tags for organizing tools. Use tags to filter which tools are included when starting the server.
<4> Define the properties that AI clients can provide when calling this tool.

Each property has the following fields:

* `name`: The parameter name AI clients use. Use descriptive names that clearly indicate the property's purpose.
* `type`: Data type (`string`, `number`, or `boolean`). See <<property-restrictions>> for component-specific restrictions.
* `description`: Explain what this property does and any constraints. Include default values when applicable.
* `required`: Set to `true` only for mandatory fields. Prefer optional properties with sensible defaults.

After defining your tool contract, implement the logic to handle input validation, defaults, and the main processing steps.
