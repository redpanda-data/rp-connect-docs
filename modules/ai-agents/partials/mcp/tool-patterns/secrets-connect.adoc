// =============================================================================
// PARTIAL: secrets-connect.adoc
// =============================================================================
//
// INCLUDED BY:
//   - This partial: partials/mcp/tool-patterns/production-workflows.adoc (via ifndef::env-cloud[])
//
// INCLUDE SYNTAX:
//   include::ai-agents:partial$mcp/tool-patterns/secrets-connect.adoc[]
//
// ATTRIBUTES USED:
//   None (only included in Connect context)
//
// DEPENDENCIES:
//   None
// =============================================================================

[[secrets]]
=== Secrets and credentials

Securely handle multiple credentials and API keys using environment variables.

Here is an example of using an API key from environment variables.

. Set an environment variable with your API key:
+
[source,bash]
----
export EXTERNAL_API_KEY="your-api-key-here"
----

. Reference the environment variable in your configuration:
+
[source,yaml]
----
processors:
  - label: call_external_api
    http:
      url: "https://api.example.com/data"
      verb: GET
      headers:
        Authorization: "Bearer ${EXTERNAL_API_KEY}"  # <1>
        Accept: "application/json"
----
+
<1> The environment variable is injected at runtime. Never store the actual API key in your YAML. The actual secret value never appears in your configuration files or logs.
