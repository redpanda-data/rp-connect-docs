// Single-sourced partial for Connect-specific YAML configuration rules
// This version includes directory structure information for Connect local development
//
// Include from Connect: include::ai-agents:partial$mcp/yaml-config-rules-connect.adoc[]

=== YAML configuration rules

Each YAML file should contain exactly one component type. The component type is inferred from the directory structure:

[cols="1,1", options="header"]
|===
| Directory | Component Type

| `resources/inputs/`
| Input component

| `resources/outputs/`
| Output component

| `resources/processors/`
| Processor component

| `resources/caches/`
| Cache component
|===

Common mistakes to avoid:

- Wrapping components in `input:` or `output:` blocks
- Multiple top-level component types in one file (like having separate `input:`, `processors:`, and `output:` sections)
- Using `try`/`catch` as a single processor (must be separate)
- Hardcoding secrets instead of using `$\{ENV_VAR}`
- Generic tool names like `get-data` or `processor1`

NOTE: Outputs and inputs can include processors as part of their configuration. For example, an output can have a `processors:` section to transform data before publishing. See xref:ai-agents:mcp-server/pipeline-patterns.adoc#outputs-with-processors[outputs with processors] for examples.
