= otlp_grpc
// tag::single-source[]
:page-commercial-names: OpenTelemetry, OTLP, OTel, gRPC
:type: input
:status: stable
:categories: [Network, Services]
:description: Receive OpenTelemetry traces, logs, and metrics via OTLP/gRPC protocol.

component_type_dropdown::[]

Receive OpenTelemetry traces, logs, and metrics via OTLP/gRPC protocol.

ifndef::env-cloud[]
Introduced in version 4.78.0.
endif::[]

Exposes an OpenTelemetry Collector gRPC receiver that accepts traces, logs, and metrics via gRPC.

Telemetry data is received in OTLP protobuf format and converted to individual Redpanda OTEL v1 protobuf messages. Each signal (span, log record, or metric) becomes a separate message with embedded Resource and Scope metadata, optimized for Kafka partitioning.

[tabs]
======
Common::
+
--

```yml
include::components:example$common/inputs/otlp_grpc.yaml[]
```

--
Advanced::
+
--

```yml
include::components:example$advanced/inputs/otlp_grpc.yaml[]
```

--
======

== Protocols

This input supports OTLP/gRPC on the default port 4317 using the standard OTLP protobuf format for all signal types (traces, logs, metrics).

== Output format

Each OTLP export request is unbatched into individual messages:

* *Traces*: One message per span
* *Logs*: One message per log record
* *Metrics*: One message per metric

Messages are encoded in Redpanda OTEL v1 protobuf format.

== Metadata

This input adds the following metadata fields to each message:

* `signal_type` - The signal type: "trace", "log", or "metric"

You can access these metadata fields using xref:configuration:interpolation.adoc#bloblang-queries[function interpolation].

== Authentication

When `auth_token` is configured, clients must include the token in the gRPC metadata.

=== Go client example

[source,go]
----
import (
    "go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc"
)

exporter, err := otlptracegrpc.New(ctx,
    otlptracegrpc.WithEndpoint("localhost:4317"),
    otlptracegrpc.WithInsecure(), // or WithTLSCredentials() for TLS
    otlptracegrpc.WithHeaders(map[string]string{
        "authorization": "Bearer your-token-here",
    }),
)
----

=== Environment variable

[source,bash]
----
export OTEL_EXPORTER_OTLP_HEADERS="authorization=Bearer your-token-here"
----

== Rate limiting

An optional rate limit resource can be specified to throttle incoming requests. When the rate limit is breached, requests will receive a ResourceExhausted gRPC status code.

include::redpanda-connect:components:partial$fields/inputs/otlp_grpc.adoc[]

// end::single-source[]