= otlp_http
// tag::single-source[]
:page-commercial-names: OpenTelemetry, OTLP, OTel
:type: input
:status: stable
:categories: [Network, Services]
:description: Receive OpenTelemetry traces, logs, and metrics via OTLP/HTTP protocol.

component_type_dropdown::[]

Receive OpenTelemetry traces, logs, and metrics via OTLP/HTTP protocol.

ifndef::env-cloud[]
Introduced in version 4.78.0.
endif::[]

Exposes an OpenTelemetry Collector HTTP receiver that accepts traces, logs, and metrics via HTTP.

Telemetry data is received in OTLP format (both protobuf and JSON) at standard OTLP endpoints and converted to individual Redpanda OTEL v1 protobuf messages. Each signal (span, log record, or metric) becomes a separate message with embedded Resource and Scope metadata, optimized for Kafka partitioning.

[tabs]
======
Common::
+
--

```yml
include::components:example$common/inputs/otlp_http.yaml[]
```

--
Advanced::
+
--

```yml
include::components:example$advanced/inputs/otlp_http.yaml[]
```

--
======

== Endpoints

This input exposes the following standard OTLP HTTP endpoints:

* `/v1/traces` - OpenTelemetry traces
* `/v1/logs` - OpenTelemetry logs
* `/v1/metrics` - OpenTelemetry metrics

== Protocols

This input supports OTLP/HTTP on the default port 4318. It accepts both:

* `application/x-protobuf` - OTLP protobuf format
* `application/json` - OTLP JSON format

== Output Format

Each OTLP export request is unbatched into individual messages:

* *Traces*: One message per span
* *Logs*: One message per log record
* *Metrics*: One message per metric

Messages are encoded in Redpanda OTEL v1 protobuf format.

== Metadata

This input adds the following metadata fields to each message:

* `signal_type` - The signal type: "trace", "log", or "metric"

You can access these metadata fields using xref:configuration:interpolation.adoc#bloblang-queries[function interpolation].

== Authentication

When `auth_token` is configured, clients must include the token in the HTTP Authorization header.

=== Go Client Example

[source,go]
----
import (
    "go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracehttp"
)

exporter, err := otlptracehttp.New(ctx,
    otlptracehttp.WithEndpoint("localhost:4318"),
    otlptracehttp.WithInsecure(), // or WithTLSClientConfig() for TLS
    otlptracehttp.WithHeaders(map[string]string{
        "Authorization": "Bearer your-token-here",
    }),
)
----

=== cURL Example

[source,bash]
----
curl -X POST http://localhost:4318/v1/traces \
  -H "Content-Type: application/x-protobuf" \
  -H "Authorization: Bearer your-token-here" \
  --data-binary @traces.pb
----

=== Environment Variable

[source,bash]
----
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer your-token-here"
----

== Rate Limiting

An optional rate limit resource can be specified to throttle incoming requests. When the rate limit is breached, requests will receive a 429 (Too Many Requests) response.

include::redpanda-connect:components:partial$fields/inputs/otlp_http.adoc[]

// end::single-source[]