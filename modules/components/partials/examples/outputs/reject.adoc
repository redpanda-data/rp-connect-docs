// This content is autogenerated. Do not edit manually.

== Examples

=== Rejecting Failed Messages


This input is particularly useful for routing messages that have failed during processing, where instead of routing them to some sort of dead letter queue we wish to push the error upstream. We can do this with a switch broker:

[source,yaml]
----
output:
  switch:
    retry_until_success: false
    cases:
      - check: '!errored()'
        output:
          amqp_1:
            urls: [ amqps://guest:guest@localhost:5672/ ]
            target_address: queue:/the_foos

      - output:
          reject: "processing failed due to: ${! error() }"
----


