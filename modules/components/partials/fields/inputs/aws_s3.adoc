// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `bucket`

The bucket to consume from. If the field `sqs.url` is specified this field is optional.

*Type*: `string`

*Default*: `""`

=== `credentials`

Optional manual configuration of AWS credentials to use. More information can be found in xref:guides:cloud/aws.adoc[].

*Type*: `object`

=== `credentials.from_ec2_role`

Use the credentials of a host EC2 machine configured to assume https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html[an IAM role associated with the instance^].

ifndef::env-cloud[]
Requires version 4.2.0 or later.
endif::[]

*Type*: `bool`

=== `credentials.id`

The ID of credentials to use.

*Type*: `string`

=== `credentials.profile`

A profile from `~/.aws/credentials` to use.

*Type*: `string`

=== `credentials.role`

A role ARN to assume.

*Type*: `string`

=== `credentials.role_external_id`

An external ID to provide when assuming a role.

*Type*: `string`

=== `credentials.secret`

The secret for the credentials being used.

include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

=== `credentials.token`

The token for the credentials being used, required when using short term credentials.

*Type*: `string`

=== `delete_objects`

Whether to delete downloaded objects from the bucket once they are processed.

*Type*: `bool`

*Default*: `false`

=== `endpoint`

Allows you to specify a custom endpoint for the AWS API.

*Type*: `string`

=== `force_path_style_urls`

Forces the client API to use path style URLs for downloading keys, which is often required when connecting to custom endpoints.

*Type*: `bool`

*Default*: `false`

=== `prefix`

An optional path prefix, if set only objects with the prefix are consumed when walking a bucket.

*Type*: `string`

*Default*: `""`

=== `region`

The AWS region to target.

*Type*: `string`

=== `scanner`

The xref:components:scanners/about.adoc[scanner] by which the stream of bytes consumed will be broken out into individual messages. Scanners are useful for processing large sources of data without holding the entirety of it within memory. For example, the `csv` scanner allows you to process individual CSV rows without loading the entire CSV file in memory at once.

ifndef::env-cloud[]
Requires version 4.25.0 or later.
endif::[]

*Type*: `scanner`

*Default*:
[source,yaml]
----
to_the_end: {}
----

=== `sqs`

Consume SQS messages in order to trigger key downloads.

*Type*: `object`

=== `sqs.bucket_path`

A xref:configuration:field_paths.adoc[dot path] whereby the bucket name can be found in SQS messages.

*Type*: `string`

*Default*: `Records.*.s3.bucket.name`

=== `sqs.delay_period`

An optional period of time to wait from when a notification was originally sent to when the target key download is attempted.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
delay_period: 10s
delay_period: 5m
----

=== `sqs.endpoint`

A custom endpoint to use when connecting to SQS.

*Type*: `string`

*Default*: `""`

=== `sqs.envelope_path`

A xref:configuration:field_paths.adoc[dot path] of a field to extract an enveloped JSON payload for further extracting the key and bucket from SQS messages. This is specifically useful when subscribing an SQS queue to an SNS topic that receives bucket events.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
envelope_path: Message
----

=== `sqs.key_path`

A xref:configuration:field_paths.adoc[dot path] whereby object keys are found in SQS messages.

*Type*: `string`

*Default*: `Records.*.s3.object.key`

=== `sqs.max_messages`

The maximum number of SQS messages to consume from each request.

*Type*: `int`

*Default*: `10`

=== `sqs.url`

An optional SQS URL to connect to. When specified this queue will control which objects are downloaded.

*Type*: `string`

*Default*: `""`

=== `sqs.wait_time_seconds`

Whether to set the wait time. Enabling this activates long-polling. Valid values: 0 to 20.

*Type*: `int`

*Default*: `0`


