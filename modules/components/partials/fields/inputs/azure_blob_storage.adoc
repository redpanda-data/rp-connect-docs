// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `container`

The name of the container from which to download blobs.

*Type*: `string`

=== `delete_objects`

Whether to delete downloaded objects from the blob once they are processed.

*Type*: `bool`

*Default*: `false`

=== `prefix`

An optional path prefix, if set only objects with the prefix are consumed.

*Type*: `string`

*Default*: `""`

=== `scanner`

The xref:components:scanners/about.adoc[scanner] by which the stream of bytes consumed will be broken out into individual messages. Scanners are useful for processing large sources of data without holding the entirety of it within memory. For example, the `csv` scanner allows you to process individual CSV rows without loading the entire CSV file in memory at once.

ifndef::env-cloud[]
Requires version 4.25.0 or later.
endif::[]

*Type*: `scanner`

*Default*:
[source,yaml]
----
to_the_end: {}
----

=== `storage_access_key`

The storage account access key. This field is ignored if `storage_connection_string` is set.

*Type*: `string`

*Default*: `""`

=== `storage_account`

The storage account to access. This field is ignored if `storage_connection_string` is set.

*Type*: `string`

*Default*: `""`

=== `storage_connection_string`

A storage account connection string. This field is required if `storage_account` and `storage_access_key` / `storage_sas_token` are not set.

*Type*: `string`

*Default*: `""`

=== `storage_sas_token`

The storage account SAS token. This field is ignored if `storage_connection_string` or `storage_access_key` are set.

*Type*: `string`

*Default*: `""`

=== `targets_input`

CAUTION: This is an experimental field that provides an optional source of download targets, configured as a xref:components:inputs/about.adoc[regular Redpanda Connect input]. Each message yielded by this input should be a single structured object containing a field `name`, which represents the blob to be downloaded.

This requires setting up https://learn.microsoft.com/en-gb/azure/event-grid/event-schema-blob-storage[Azure Blob Storage as an Event Grid source^] and an associated event handler that a Redpanda Connect input can read from. For example, use either one of the following:  

* https://learn.microsoft.com/en-gb/azure/event-grid/handler-event-hubs[Azure Event Hubs] using the `kafka` input 
* https://learn.microsoft.com/en-gb/azure/event-grid/handler-event-grid-namespace-topic[Namespace topics] using the `mqtt` input

ifndef::env-cloud[]
Requires version 4.27.0 or later.
endif::[]

*Type*: `input`

[source,yaml]
----
# Examples:
targets_input:
  mqtt:
    topics:
      - some-topic
    urls:
      - example.westeurope-1.ts.eventgrid.azure.net:8883
  processors:
    - unarchive:
        format: json_array
    - mapping: |-
        if this.eventType == "Microsoft.Storage.BlobCreated" {
          root.name = this.data.url.parse_url().path.trim_prefix("/foocontainer/")
        } else {
          root = deleted()
        }
----


