// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `allowed_mod_types[]`

List of modification types to process. If not specified, all modification types are processed. Allowed values: INSERT, UPDATE, DELETE

*Type*: `array`

[source,yaml]
----
# Examples:
allowed_mod_types:
  - INSERT
  - UPDATE
  - DELETE

----

=== `auto_replay_nacks`

Whether messages that are rejected (nacked) at the output level should be automatically replayed indefinitely, eventually resulting in back pressure if the cause of the rejections is persistent. If set to `false` these messages will instead be deleted. Disabling auto replays can greatly improve memory efficiency of high throughput streams as the original shape of the data can be discarded immediately upon consumption and mutation.

*Type*: `bool`

*Default*: `true`

=== `batching`


Allows you to configure a xref:configuration:batching.adoc[batching policy].

*Type*: `object`

[source,yaml]
----
# Examples:
batching:
  byte_size: 5000
  count: 0
  period: 1s
batching:
  count: 10
  period: 1s
batching:
  check: this.contains("END BATCH")
  count: 0
  period: 1m
----

=== `batching.byte_size`

An amount of bytes at which the batch should be flushed. If `0` disables size based batching.

*Type*: `int`

*Default*: `0`

=== `batching.check`

A xref:guides:bloblang/about.adoc[Bloblang query] that should return a boolean value indicating whether a message should end a batch.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
check: this.type == "end_of_transaction"
----

=== `batching.count`

A number of messages at which the batch should be flushed. If `0` disables count based batching.

*Type*: `int`

*Default*: `0`

=== `batching.period`

A period in which an incomplete batch should be flushed regardless of its size.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
period: 1s
period: 1m
period: 500ms
----

=== `batching.processors[]`

A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. Please note that all resulting messages are flushed as a single batch, therefore splitting the batch into smaller batches using these processors is a no-op.

*Type*: `processor`

[source,yaml]
----
# Examples:
processors:
  - archive:
      format: concatenate

  - archive:
      format: lines

  - archive:
      format: json_array

----

=== `credentials_json`

Base64 encoded GCP service account JSON credentials file for authentication. If not provided, Application Default Credentials (ADC) will be used.

*Type*: `string`

*Default*: `""`

=== `database_id`

Spanner database ID

*Type*: `string`

=== `end_timestamp`

RFC3339 formatted exclusive timestamp to stop reading at (default: no end time)

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
end_timestamp: 2022-01-01T00:00:00Z
----

=== `heartbeat_interval`

Duration string for heartbeat interval

*Type*: `string`

*Default*: `10s`

=== `instance_id`

Spanner instance ID

*Type*: `string`

=== `metadata_table`

The table to store metadata in (default: cdc_metadata_<stream_id>)

*Type*: `string`

*Default*: `""`

=== `min_watermark_cache_ttl`

Duration string for frequency of querying Spanner for minimum watermark.

*Type*: `string`

*Default*: `5s`

=== `project_id`

GCP project ID containing the Spanner instance

*Type*: `string`

=== `start_timestamp`

RFC3339 formatted inclusive timestamp to start reading from the change stream (default: current time)

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
start_timestamp: 2022-01-01T00:00:00Z
----

=== `stream_id`

The name of the change stream to track, the stream must exist in the database. To create a change stream, see the link:https://cloud.google.com/spanner/docs/change-streams/manage[Google Cloud documentation^].

*Type*: `string`


