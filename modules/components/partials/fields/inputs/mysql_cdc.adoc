// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `auto_replay_nacks`

Whether to automatically replay rejected messages (negative acknowledgements) at the output level. If the cause of rejections is persistent, leaving this option enabled can result in back pressure.

Set `auto_replay_nacks` to `false` to delete rejected messages. Disabling auto replays can greatly improve memory efficiency of high throughput streams as the original shape of the data is discarded immediately upon consumption and mutation.

*Type*: `bool`

*Default*: `true`

=== `aws`

AWS IAM authentication configuration for MySQL instances. When enabled, IAM credentials are used to generate temporary authentication tokens instead of a static password.

*Type*: `object`

=== `aws.enabled`

Enable AWS IAM authentication for MySQL. When enabled, an IAM authentication token is generated and used as the password. When using IAM authentication ensure `max_reconnect_attempts` is set to a low value to ensure it can refresh credentials.

*Type*: `bool`

*Default*: `false`

=== `aws.endpoint`

The MySQL endpoint hostname (e.g., mydb.abc123.us-east-1.rds.amazonaws.com).

*Type*: `string`

=== `aws.id`

The ID of credentials to use.

*Type*: `string`

=== `aws.region`

The AWS region where the MySQL instance is located. If no region is specified then the environment default will be used.

*Type*: `string`

=== `aws.role`

Optional AWS IAM role ARN to assume for authentication. Alternatively, use `roles` array for role chaining instead.

*Type*: `string`

=== `aws.role_external_id`

Optional external ID for the role assumption. Only used with the `role` field. Alternatively, use `roles` array for role chaining instead.

*Type*: `string`

=== `aws.roles[]`

Optional array of AWS IAM roles to assume for authentication. Roles can be assumed in sequence, enabling chaining for purposes such as cross-account access. Each role can optionally specify an external ID.

*Type*: `object`

=== `aws.roles[].role`

AWS IAM role ARN to assume.

*Type*: `string`

*Default*: `""`

=== `aws.roles[].role_external_id`

Optional external ID for the role assumption.

*Type*: `string`

*Default*: `""`

=== `aws.secret`

The secret for the credentials being used.

include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

=== `aws.token`

The token for the credentials being used, required when using short term credentials.

*Type*: `string`

=== `batching`


Allows you to configure a xref:configuration:batching.adoc[batching policy].

*Type*: `object`

[source,yaml]
----
# Examples:
batching:
  byte_size: 5000
  count: 0
  period: 1s

# ---

batching:
  count: 10
  period: 1s

# ---

batching:
  check: this.contains("END BATCH")
  count: 0
  period: 1m
----

=== `batching.byte_size`

The number of bytes at which the batch is flushed. Set to `0` to disable size-based batching.

*Type*: `int`

*Default*: `0`

=== `batching.check`

A xref:guides:bloblang/about.adoc[Bloblang query] that returns a boolean value indicating whether a message should end a batch.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
check: this.type == "end_of_transaction"
----

=== `batching.count`

The number of messages after which the batch is flushed. Set to `0` to disable count-based batching.

*Type*: `int`

*Default*: `0`

=== `batching.period`

The period of time after which an incomplete batch is flushed regardless of its size. This field accepts Go duration format strings such as `100ms`, `1s`, or `5s`.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
period: 1s

# ---

period: 1m

# ---

period: 500ms
----

=== `batching.processors[]`

A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. All resulting messages are flushed as a single batch, and therefore splitting the batch into smaller batches using these processors is a no-op.

*Type*: `processor`

[source,yaml]
----
# Examples:
processors:
  - archive:
      format: concatenate


# ---

processors:
  - archive:
      format: lines


# ---

processors:
  - archive:
      format: json_array

----

=== `checkpoint_cache`

Specify a `cache` resource to store the binlog position of the most recent data update delivered to Redpanda Connect. After a restart, Redpanda Connect can continue processing changes from this last known position, avoiding the need to reprocess all table updates.

*Type*: `string`

=== `checkpoint_key`

The key identifier used to store the binlog position in <<checkpoint_cache,`checkpoint_cache`>>. If you have multiple `mysql_cdc` inputs sharing the same cache, you can provide an alternative key.

*Type*: `string`

*Default*: `mysql_binlog_position`

=== `checkpoint_limit`

The maximum number of messages that this input can process at a given time. Increasing this limit enables parallel processing, and batching at the output level. To preserve at-least-once guarantees, any given binlog position is not acknowledged until all messages under that offset are delivered.

*Type*: `int`

*Default*: `1024`

=== `dsn`

The data source name (DSN) of the MySQL database from which you want to stream updates. Use the format `user:password@tcp(localhost:3306)/database`.

*Type*: `string`

[source,yaml]
----
# Examples:
dsn: user:password@tcp(localhost:3306)/database
----

=== `flavor`

The type of MySQL database to connect to.

*Type*: `string`

*Default*: `mysql`

[cols="1m,2a"]
|===
|Option |Summary

|mariadb
|MariaDB flavored databases.

|mysql
|MySQL flavored databases.

|===

=== `max_reconnect_attempts`

The maximum number of attempts the MySQL driver will try to re-establish a broken connection before Connect attempts reconnection. A zero or negative number means infinite retry attempts.

*Type*: `int`

*Default*: `10`

=== `snapshot_max_batch_size`

The maximum number of table rows to fetch in each batch when taking a snapshot. This option is only available when `stream_snapshot` is set to `true`.

*Type*: `int`

*Default*: `1000`

=== `stream_snapshot`

When set to `true`, this input streams a snapshot of all existing data in the source database before streaming data changes. To use this setting, all database tables that you want to replicate _must_ have a primary key.

*Type*: `bool`

=== `tables[]`

A list of the database table names to stream changes from. Specify each table name as a separate item.

*Type*: `array`

[source,yaml]
----
# Examples:
tables:
  - table1
  - table2
----

=== `tls`

Using this field overrides the SSL/TLS settings in the environment and DSN.

*Type*: `object`

=== `tls.client_certs[]`

A list of client certificates to use. For each certificate either the fields `cert` and `key`, or `cert_file` and `key_file` should be specified, but not both.

*Type*: `object`

*Default*: `[]`

[source,yaml]
----
# Examples:
client_certs:
  - cert: foo
    key: bar


# ---

client_certs:
  - cert_file: ./example.pem
    key_file: ./example.key

----

=== `tls.client_certs[].cert`

A plain text certificate to use.

*Type*: `string`

*Default*: `""`

=== `tls.client_certs[].cert_file`

The path of a certificate to use.

*Type*: `string`

*Default*: `""`

=== `tls.client_certs[].key`

A plain text certificate key to use.

include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

*Default*: `""`

=== `tls.client_certs[].key_file`

The path of a certificate key to use.

*Type*: `string`

*Default*: `""`

=== `tls.client_certs[].password`

A plain text password for when the private key is password encrypted in PKCS#1 or PKCS#8 format. The obsolete `pbeWithMD5AndDES-CBC` algorithm is not supported for the PKCS#8 format.

Because the obsolete pbeWithMD5AndDES-CBC algorithm does not authenticate the ciphertext, it is vulnerable to padding oracle attacks that can let an attacker recover the plaintext.


include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
password: foo

# ---

password: ${KEY_PASSWORD}
----

=== `tls.enable_renegotiation`

Whether to allow the remote server to repeatedly request renegotiation. Enable this option if you're seeing the error message `local error: tls: no renegotiation`.

ifndef::env-cloud[]
Requires version 3.45.0 or later.
endif::[]

*Type*: `bool`

*Default*: `false`

=== `tls.root_cas`

An optional root certificate authority to use. This is a string, representing a certificate chain from the parent trusted root certificate, to possible intermediate signing certificates, to the host certificate.

include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
root_cas: |-
  -----BEGIN CERTIFICATE-----
  ...
  -----END CERTIFICATE-----
----

=== `tls.root_cas_file`

An optional path of a root certificate authority file to use. This is a file, often with a .pem extension, containing a certificate chain from the parent trusted root certificate, to possible intermediate signing certificates, to the host certificate.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
root_cas_file: ./root_cas.pem
----

=== `tls.skip_cert_verify`

Whether to skip server side certificate verification.

*Type*: `bool`

*Default*: `false`


