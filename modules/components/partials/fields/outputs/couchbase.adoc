// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `batching`

Configure a xref:configuration:batching.adoc[batching policy].

*Type*: `object`

[source,yaml]
----
# Examples:
batching:
  byte_size: 5000
  count: 0
  period: 1s
batching:
  count: 10
  period: 1s
batching:
  check: this.contains("END BATCH")
  count: 0
  period: 1m
----

=== `batching.byte_size`

The number of bytes at which the batch is flushed. Set to `0` to disable size-based batching.

*Type*: `int`

*Default*: `0`

=== `batching.check`

A xref:guides:bloblang/about.adoc[Bloblang query] that returns a boolean value indicating whether a message should end a batch.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
check: this.type == "end_of_transaction"
----

=== `batching.count`

The number of messages after which the batch is flushed. Set to `0` to disable count-based batching.

*Type*: `int`

*Default*: `0`

=== `batching.period`

The period of time after which an incomplete batch is flushed regardless of its size. This field accepts Go duration format strings such as `100ms`, `1s`, or `5s`.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
period: 1s
period: 1m
period: 500ms
----

=== `batching.processors[]`

A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. All resulting messages are flushed as a single batch, and therefore splitting the batch into smaller batches using these processors is a no-op.

*Type*: `processor`

[source,yaml]
----
# Examples:
processors:
  - archive:
      format: concatenate

processors:
  - archive:
      format: lines

processors:
  - archive:
      format: json_array

----

=== `bucket`

The name of the Couchbase bucket you want the output to access.

*Type*: `string`

=== `collection`

The name of the specific collection you want the output to write to.

*Type*: `string`

=== `content`

The document content to update. When inserting, replacing, or upserting documents, you must set a `content` value.

*Type*: `string`

=== `id`

The document ID to use.

This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].

*Type*: `string`

[source,yaml]
----
# Examples:
id: ${! json("id") }
----

=== `max_in_flight`

The maximum number of messages to have in flight at a given time. Increase this value to improve throughput.

*Type*: `int`

*Default*: `64`

=== `operation`

The Couchbase operation to perform.

*Type*: `string`

*Default*: `upsert`

[cols="1m,2a"]
|===
|Option |Summary

|insert
|insert a new document.

|remove
|delete a document.

|replace
|replace the contents of a document.

|upsert
|creates a new document if it does not exist, if it does exist then it updates it.

|===

=== `password`

A password to authenticate with the Couchbase cluster.

include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

=== `scope`

Bucket scope.

*Type*: `string`

=== `timeout`

Operation timeout if this output cannot connect to the Couchbase cluster.

*Type*: `string`

*Default*: `15s`

=== `transcoder`

Choose from the following Couchbase transcoders to convert the messages' data format before they are written to Couchbase.

*Type*: `string`

*Default*: `legacy`

[cols="1m,2a"]
|===
|Option |Summary

|json
|JSONTranscoder implements the default transcoding behavior and applies JSON transcoding to all values. This will apply the following behavior to the value: binary ([]byte) -> error. default -> JSON value, JSON Flags.

|legacy
|LegacyTranscoder implements the behavior for a backward-compatible transcoder. This transcoder implements behavior matching that of gocb v1.This will apply the following behavior to the value: binary ([]byte) -> binary bytes, Binary expectedFlags. string -> string bytes, String expectedFlags. default -> JSON value, JSON expectedFlags.

|raw
|RawBinaryTranscoder implements passthrough behavior of raw binary data. This transcoder does not apply any serialization. This will apply the following behavior to the value: binary ([]byte) -> binary bytes, binary expectedFlags. default -> error.

|rawjson
|RawJSONTranscoder implements passthrough behavior of JSON data. This transcoder does not apply any serialization. It will forward data across the network without incurring unnecessary parsing costs. This will apply the following behavior to the value: binary ([]byte) -> JSON bytes, JSON expectedFlags. string -> JSON bytes, JSON expectedFlags. default -> error.

|rawstring
|RawStringTranscoder implements passthrough behavior of raw string data. This transcoder does not apply any serialization. This will apply the following behavior to the value: string -> string bytes, string expectedFlags. default -> error.

|===

=== `url`

The Couchbase connection string.

*Type*: `string`

[source,yaml]
----
# Examples:
url: couchbase://localhost:11210
----

=== `username`

A username to authenticate with the Couchbase cluster.

*Type*: `string`


