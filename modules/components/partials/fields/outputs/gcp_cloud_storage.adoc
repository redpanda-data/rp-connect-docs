// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `batching`


Allows you to configure a xref:configuration:batching.adoc[batching policy].

*Type*: `object`

[source,yaml]
----
# Examples:
batching:
  byte_size: 5000
  count: 0
  period: 1s
batching:
  count: 10
  period: 1s
batching:
  check: this.contains("END BATCH")
  count: 0
  period: 1m
----

=== `batching.byte_size`

An amount of bytes at which the batch should be flushed. If `0` disables size based batching.

*Type*: `int`

*Default*: `0`

=== `batching.check`

A xref:guides:bloblang/about.adoc[Bloblang query] that should return a boolean value indicating whether a message should end a batch.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
check: this.type == "end_of_transaction"
----

=== `batching.count`

A number of messages at which the batch should be flushed. If `0` disables count based batching.

*Type*: `int`

*Default*: `0`

=== `batching.period`

A period in which an incomplete batch should be flushed regardless of its size.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
period: 1s
period: 1m
period: 500ms
----

=== `batching.processors[]`

A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. Please note that all resulting messages are flushed as a single batch, therefore splitting the batch into smaller batches using these processors is a no-op.

*Type*: `processor`

[source,yaml]
----
# Examples:
processors:
  - archive:
      format: concatenate

  - archive:
      format: lines

  - archive:
      format: json_array

----

=== `bucket`

The bucket to upload messages to.

*Type*: `string`

=== `chunk_size`

An optional chunk size which controls the maximum number of bytes of the object that the Writer will attempt to send to the server in a single request. If ChunkSize is set to zero, chunking will be disabled.

*Type*: `int`

*Default*: `16777216`

=== `collision_mode`

Determines how file path collisions should be dealt with.

ifndef::env-cloud[]
Requires version 3.53.0 or later.
endif::[]

*Type*: `string`

*Default*: `overwrite`

[cols="1m,2a"]
|===
|Option |Summary

|append
|Append the message bytes to the original file.

|error-if-exists
|Return an error, this is the equivalent of a nack.

|ignore
|Do not modify the original file, the new data will be dropped.

|overwrite
|Replace the existing file with the new one.

|===

=== `content_encoding`

An optional content encoding to set for each object.
This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].

*Type*: `string`

*Default*: `""`

=== `content_type`

The content type to set for each object.
This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].

*Type*: `string`

*Default*: `application/octet-stream`

=== `credentials_json`

Optional field to set https://developers.google.com/workspace/guides/create-credentials#create_credentials_for_a_service_account[Google Service Account Credentials JSON^].

include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

*Default*: `""`

=== `max_in_flight`

The maximum number of message batches to have in flight at a given time. Increase this to improve throughput.

*Type*: `int`

*Default*: `64`

=== `path`

The path of each message to upload. This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].

*Type*: `string`

*Default*: `${!counter()}-${!timestamp_unix_nano()}.txt`

[source,yaml]
----
# Examples:
path: ${!counter()}-${!timestamp_unix_nano()}.txt
path: ${!meta("kafka_key")}.json
path: ${!json("doc.namespace")}/${!json("doc.id")}.json
----

=== `timeout`

The maximum period to wait on an upload before abandoning it and reattempting.

*Type*: `string`

*Default*: `3s`

[source,yaml]
----
# Examples:
timeout: 1s
timeout: 500ms
----


