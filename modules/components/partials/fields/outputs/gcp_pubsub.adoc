// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `batching`

Configures a batching policy on this output. While the PubSub client maintains its own internal buffering mechanism, preparing larger batches of messages can further trade-off some latency for throughput.

*Type*: `object`

[source,yaml]
----
# Examples:
batching:
  byte_size: 5000
  count: 0
  period: 1s
batching:
  count: 10
  period: 1s
batching:
  check: this.contains("END BATCH")
  count: 0
  period: 1m
----

=== `batching.byte_size`

An amount of bytes at which the batch should be flushed. If `0` disables size based batching.

*Type*: `int`

*Default*: `0`

=== `batching.check`

A xref:guides:bloblang/about.adoc[Bloblang query] that should return a boolean value indicating whether a message should end a batch.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
check: this.type == "end_of_transaction"
----

=== `batching.count`

A number of messages at which the batch should be flushed. If `0` disables count based batching.

*Type*: `int`

*Default*: `0`

=== `batching.period`

A period in which an incomplete batch should be flushed regardless of its size.

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
period: 1s
period: 1m
period: 500ms
----

=== `batching.processors[]`

A list of xref:components:processors/about.adoc[processors] to apply to a batch as it is flushed. This allows you to aggregate and archive the batch however you see fit. Please note that all resulting messages are flushed as a single batch, therefore splitting the batch into smaller batches using these processors is a no-op.

*Type*: `processor`

[source,yaml]
----
# Examples:
processors:
  - archive:
      format: concatenate

  - archive:
      format: lines

  - archive:
      format: json_array

----

=== `byte_threshold`

Publish a batch when its size in bytes reaches this value.

*Type*: `int`

*Default*: `1000000`

=== `count_threshold`

Publish a pubsub buffer when it has this many messages

*Type*: `int`

*Default*: `100`

=== `credentials_json`

Optional field to set https://developers.google.com/workspace/guides/create-credentials#create_credentials_for_a_service_account[Google Service Account Credentials JSON^].

include::redpanda-connect:components:partial$secret_warning.adoc[]

*Type*: `string`

*Default*: `""`

=== `delay_threshold`

Publish a non-empty pubsub buffer after this delay has passed.

*Type*: `string`

*Default*: `10ms`

=== `endpoint`

An optional endpoint to override the default of `pubsub.googleapis.com:443`. This can be used to connect to a region specific pubsub endpoint. For a list of valid values, see https://cloud.google.com/pubsub/docs/reference/service_apis_overview#list_of_regional_endpoints[this document^].

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
endpoint: us-central1-pubsub.googleapis.com:443
endpoint: us-west3-pubsub.googleapis.com:443
----

=== `flow_control`

For a given topic, configures the PubSub client's internal buffer for messages to be published.

*Type*: `object`

=== `flow_control.limit_exceeded_behavior`

Configures the behavior when trying to publish additional messages while the flow controller is full. The available options are block (default), ignore (disable), and signal_error (publish results will return an error).

*Type*: `string`

*Default*: `block`

*Options*: `ignore`, `block`, `signal_error`

=== `flow_control.max_outstanding_bytes`

Maximum size of buffered messages to be published. If less than or equal to zero, this is disabled.

*Type*: `int`

*Default*: `-1`

=== `flow_control.max_outstanding_messages`

Maximum number of buffered messages to be published. If less than or equal to zero, this is disabled.

*Type*: `int`

*Default*: `1000`

=== `max_in_flight`

The maximum number of messages to have in flight at a given time. Increasing this may improve throughput.

*Type*: `int`

*Default*: `64`

=== `metadata`

Specify criteria for which metadata values are sent as attributes, all are sent by default.

*Type*: `object`

=== `metadata.exclude_prefixes[]`

Provide a list of explicit metadata key prefixes to be excluded when adding metadata to sent messages.

*Type*: `array`

*Default*: `[]`

=== `ordering_key`

The ordering key to use for publishing messages.
This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].

*Type*: `string`

=== `project`

The project ID of the topic to publish to.

*Type*: `string`

=== `publish_timeout`

The maximum length of time to wait before abandoning a publish attempt for a message.

*Type*: `string`

*Default*: `1m0s`

[source,yaml]
----
# Examples:
publish_timeout: 10s
publish_timeout: 5m
publish_timeout: 60m
----

=== `topic`

The topic to publish to.
This field supports xref:configuration:interpolation.adoc#bloblang-queries[interpolation functions].

*Type*: `string`

=== `validate_topic`

Whether to validate the existence of the topic before publishing. If set to false and the topic does not exist, messages will be lost.

*Type*: `bool`

*Default*: `true`


