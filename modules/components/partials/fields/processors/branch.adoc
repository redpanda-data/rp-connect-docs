// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option: https://redpandadata.atlassian.net/wiki/spaces/DOC/pages/1247543314/Generate+reference+docs+for+Redpanda+Connect

== Fields

=== `processors[]`

A list of processors to apply to mapped requests. When processing message batches the resulting batch must match the size and ordering of the input batch, therefore filtering, grouping should not be performed within these processors.

*Type*: `processor`

=== `request_map`

A xref:guides:bloblang/about.adoc[Bloblang mapping] that describes how to create a request payload suitable for the child processors of this branch. If left empty then the branch will begin with an exact copy of the origin message (including metadata).

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
request_map: |-
  root = {
  	"id": this.doc.id,
  	"content": this.doc.body.text
  }
request_map: |-
  root = if this.type == "foo" {
  	this.foo.request
  } else {
  	deleted()
  }
----

=== `result_map`

A xref:guides:bloblang/about.adoc[Bloblang mapping] that describes how the resulting messages from branched processing should be mapped back into the original payload. If left empty the origin message will remain unchanged (including metadata).

*Type*: `string`

*Default*: `""`

[source,yaml]
----
# Examples:
result_map: |-
  meta foo_code = metadata("code")
  root.foo_result = this
result_map: |-
  meta = metadata()
  root.bar.body = this.body
  root.bar.id = this.user.id
result_map: root.raw_result = content().string()
result_map: |-
  root.enrichments.foo = if metadata("request_failed") != null {
    throw(metadata("request_failed"))
  } else {
    this
  }
result_map: |-
  # Retain only the updated metadata fields which were present in the origin message
  meta = metadata().filter(v -> @.get(v.key) != null)
----


